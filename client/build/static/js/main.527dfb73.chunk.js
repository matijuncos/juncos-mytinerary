(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{74:function(e,t,n){},75:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var s=n(7),r=n(2),a=n(1),c=n(18),i=n.n(c),o=(n(74),n(9)),l=(n(75),n.p+"static/media/user.4a000e6c.svg"),u=n(11),j=n(52),d=n(15),b=n(53),m=n(12),p=n(4),h=n.n(p),O=n(8),g=n(19),x=n.n(g),f=n(6),v=(n(22),{signUp:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(n,s){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.post("https://juncos-mytinerary.herokuapp.com/api/user/signup",e);case 3:if(r=t.sent,console.log(r),r.data.success){t.next=7;break}return t.abrupt("return",r.data);case 7:n({type:"USER_LOG",payload:r.data}),f.b.success("Your account was created succesfully!"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),f.b.error("Oops! Something went wrong!");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},signIn:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(n,s){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.post("https://juncos-mytinerary.herokuapp.com/api/user/signin",e);case 3:if((r=t.sent).data.success){t.next=6;break}return t.abrupt("return",r.data);case 6:n({type:"USER_LOG",payload:r.data}),f.b.success("Welcome "+r.data.response.firstName),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),f.b.error("Oops! Something went wrong!"),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()},signOut:function(){return function(){var e=Object(O.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SIGN_OUT"});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},preserveLog:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(n,r){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.post("https://juncos-mytinerary.herokuapp.com/api/user/storage",{token:e},{headers:{Authorization:"Bearer "+e}});case 3:a=t.sent,n({type:"USER_LOG",payload:{response:Object(s.a)({},a.data.response)}}),t.next=13;break;case 7:if(t.prev=7,t.t0=t.catch(0),401!==t.t0.response.status){t.next=13;break}return localStorage.clear(),Object(f.b)("Oops! Something went wrong!"),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}});var y={signOut:v.signOut},k=Object(m.b)((function(e){return{loggedUser:e.userR.loggedUser}}),y)((function(e){var t=e.loggedUser,n=Object(a.useState)(!0),s=Object(o.a)(n,2),c=s[0],i=s[1],m=Object(a.useState)(!0),p=Object(o.a)(m,2),h=p[0],O=p[1],g=function(){i(!c)};return Object(r.jsxs)("nav",{children:[Object(r.jsx)(j.a,{className:"burger",onClick:g}),Object(r.jsxs)("div",{className:c?"links":"links activeNav",children:[Object(r.jsxs)("div",{onClick:function(){return O(!h)},className:"userLinksContainer",children:[Object(r.jsx)("div",{className:"userPicture",style:{backgroundImage:"url(".concat(t?t.response.userPicture:l,")")}}),Object(r.jsx)("div",{className:h?"userLinks":"userLinks visible",children:t?Object(r.jsx)(u.b,{to:"/",className:"signInLinks",onClick:function(){g(),f.b.info("Hope to see you soon!"),e.signOut(),localStorage.clear()},children:"Sign Out"}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u.b,{to:"/signin",className:"signInLinks",onClick:g,children:"Sign In"}),Object(r.jsx)(u.b,{to:"/signup",className:"signInLinks",onClick:g,children:"Sign Up"})]})}),Object(r.jsx)(b.a,{className:"dropDown"}),t&&"Hi there, "+t.response.firstName+"!"]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(u.c,{to:"/",className:"navLinks ",exact:!0,onClick:g,children:Object(r.jsxs)("p",{children:[Object(r.jsx)(d.b,{className:"icons"})," Home"]})}),Object(r.jsx)(u.c,{to:"/cities",className:"navLinks",onClick:g,children:Object(r.jsxs)("p",{children:[Object(r.jsx)(d.c,{className:"icons"})," Cities"]})})]})]})]})})),N=n.p+"static/media/video-1.59e75226.mp4";var w=function(){return Object(r.jsxs)("div",{className:"callToAction",children:[Object(r.jsx)("h2",{children:"Let your adventure begin!"}),Object(r.jsx)(u.b,{to:"./cities",children:Object(r.jsxs)("button",{className:"ghostBtn",children:["Click Here! ",Object(r.jsx)(d.c,{className:"icons"})]})})]})},C="data:image/png;base64,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";var I=function(){return Object(r.jsxs)("div",{className:"slogan",children:[Object(r.jsx)("img",{src:C,alt:"",className:"logo"}),Object(r.jsx)("h1",{children:"Mytinerary!"}),Object(r.jsx)("h2",{children:"Find your perfect trip, designed by insiders who knows and love their cities!"})]})},S=n(54),A=n(55),U=n(67),E=n(65),P=n(66),L=function(e){var t=e.foto;return Object(r.jsx)("div",{className:"slideCity",style:{backgroundImage:"url(".concat(t.src,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",width:"30vw",height:"40vh"},children:Object(r.jsx)("h3",{children:t.title})})},B=n(102),T=function(e){var t=e.item;return Object(r.jsx)("div",{className:"slide",children:t.map((function(e){return Object(r.jsx)(L,{foto:e},Object(B.a)())}))})},R=function(e){Object(U.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(S.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={items:[[{title:"Paris",src:"/assets/paris.jpg"},{title:"Rome",src:"/assets/rome.jpg"},{title:"Istanbul",src:"/assets/istanbul.jpg"},{title:"London",src:"/assets/london.jpg"}],[{title:"Sidney",src:"/assets/sidney.jpg"},{title:"Berlin",src:"/assets/berlin.jpg"},{title:"Toulouse",src:"/assets/toulouse.jpg"},{title:"San Sebastian",src:"/assets/sansebastian.jpg"}],[{title:"Barcelona",src:"/assets/barcelona.jpg"},{title:"Ibiza",src:"/assets/ibiza.jpg"},{title:"Milan",src:"/assets/milan.jpeg"},{title:"Bilbao",src:"/assets/bilbao.jpg"}]]},e}return Object(A.a)(n,[{key:"render",value:function(){var e=this.state.items;return Object(r.jsxs)("div",{className:"carruselSection",children:[Object(r.jsx)("h2",{className:"slidesTitle",children:"Popular MYtineraries"}),Object(r.jsx)(P.a,{disableArrowsOnEnd:!1,children:e.map((function(e,t){return Object(r.jsx)(T,{item:e},t)}))})]})}}]),n}(a.Component);var D=function(){return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("video",{src:N,autoPlay:!0,loop:!0,muted:!0}),Object(r.jsx)(I,{}),Object(r.jsx)(w,{}),Object(r.jsx)(R,{})]})},M=function(){return Object(r.jsx)("div",{className:"bigContainer",children:Object(r.jsx)("div",{className:"loader"})})},G=function(e){var t=e.city,n=t._id;return Object(r.jsx)(u.b,{to:"/itineraries/"+n,className:"cityLink",children:Object(r.jsx)("div",{style:{backgroundImage:"url(".concat(t.cityPicture,")"),height:"35vh",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},className:"eachCity",children:Object(r.jsx)("h3",{children:t.cityName})})},n)},H={getCities:function(){return function(){var e=Object(O.a)(h.a.mark((function e(t,n){var s,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://juncos-mytinerary.herokuapp.com/api/cities");case 3:return s=e.sent,e.next=6,s.json();case 6:r=e.sent,t({type:"GET_CITIES",payload:r.results}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),f.b.error("Oops! Seomthing went wrong");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},getFilteredCities:function(e){return function(t,n){t({type:"GET_INPUT_VALUE",payload:e})}}},F={getCities:H.getCities,getFilteredCities:H.getFilteredCities},z=Object(m.b)((function(e){return{cities:e.citiesR.cities,filteredCities:e.citiesR.filteredCities}}),F)((function(e){var t=e.getCities,n=e.getFilteredCities,s=e.filteredCities;Object(a.useEffect)((function(){t(),window.scrollTo(0,0)}),[t]);return 0===e.cities.length?Object(r.jsx)(M,{}):Object(r.jsxs)("div",{className:"bigContainer",children:[Object(r.jsx)("img",{src:C,alt:""}),Object(r.jsx)("h2",{children:"Take a look at these cities!"}),Object(r.jsx)("input",{type:"text",placeholder:"Search here!",className:"citiesInput",onChange:function(e){var t=e.target.value;n(t)}}),0===s.length&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"oops failedSearch",children:Object(r.jsxs)("div",{className:"text",children:[Object(r.jsx)("h3",{children:"Oops!"}),Object(r.jsx)("p",{children:"We don't have any city that matches your search!"}),Object(r.jsx)("p",{children:"Try another one!"})]})})}),Object(r.jsx)("div",{className:"citiesContainer",children:s.map((function(e){return Object(r.jsx)(G,{city:e},e._id)}))}),Object(r.jsx)(u.b,{to:"/",className:"linksBtn",children:Object(r.jsxs)("button",{className:"backBtn",children:["Go Back Home!",Object(r.jsx)(d.b,{className:"btnIcons"})]})})]})}));var V=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"footer",children:[Object(r.jsx)("div",{className:"footerLeft",children:"Mytinerary"}),Object(r.jsx)("div",{className:"footerRight",children:"\xa9 All Rights reserved"})]})})},W=n(10),Y=function(e){var t=e.city,n=t.cityName,s=t.cityPicture;return Object(r.jsx)("div",{className:"centrar",children:Object(r.jsx)("div",{className:"oops",style:{backgroundImage:"url(".concat(s,")")},children:Object(r.jsxs)("div",{className:"text",children:[Object(r.jsxs)("h3",{children:["Welcome to ",n,"!"]}),Object(r.jsx)("p",{children:"We don't have any itineraries yet, but you can make the first one!"}),Object(r.jsx)("p",{children:"Or...go back to see more cities!"})]})})})},Q=n(40),J=n(30),K={getItineraries:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(n,s){var r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://juncos-mytinerary.herokuapp.com/api/itineraries/"+e);case 3:return r=t.sent,t.next=6,r.json();case 6:a=t.sent,n({type:"GET_ITINERARIES",payload:a.response}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),f.b.error("Oops! Something went wronggggg");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()},sendComment:function(e,t,n,s){return function(){var r=Object(O.a)(h.a.mark((function r(a,c){var i;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,x.a.post("https://juncos-mytinerary.herokuapp.com/api/comments/",{comment:e,commentObj:s,id:n},{headers:{Authorization:"Bearer "+t}});case 3:return i=r.sent,a({type:"COMMENTS",payload:i.data}),r.abrupt("return",!1);case 8:r.prev=8,r.t0=r.catch(0),f.b.error("Oops! Something went wrong"),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e,t){return r.apply(this,arguments)}}()},deleteComment:function(e,t,n){return function(){var s=Object(O.a)(h.a.mark((function s(r,a){var c;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,x.a.put("https://juncos-mytinerary.herokuapp.com/api/comments",{token:e,commentId:t,IdItinerary:n},{headers:{Authorization:"Bearer "+e}});case 3:c=s.sent,r({type:"COMMENTS",payload:c.data}),s.next=11;break;case 7:s.prev=7,s.t0=s.catch(0),console.log(s.t0),f.b.error("Oops! Something went wrong");case 11:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(e,t){return s.apply(this,arguments)}}()},updateComment:function(e,t,n,s){return function(){var r=Object(O.a)(h.a.mark((function r(a,c){var i;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,x.a.post("https://juncos-mytinerary.herokuapp.com/api/commentupdate",{token:e,updatedComment:t,commentId:n,IdItinerary:s},{headers:{Authorization:"Bearer "+e}});case 3:i=r.sent,a({type:"COMMENTS",payload:i.data}),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),console.log(r.t0),f.b.error("Oops! Something went wrong");case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e,t){return r.apply(this,arguments)}}()},like:function(e,t){return function(){var n=Object(O.a)(h.a.mark((function n(s,r){var a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,x.a.post("https://juncos-mytinerary.herokuapp.com/api/like",{token:e,itinerayId:t},{headers:{Authorization:"Bearer "+e}});case 3:a=n.sent,s({type:"LIKES",payload:a.data}),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),f.b.error("Oops! Something went wrong");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}()},dislike:function(e,t){return function(){var n=Object(O.a)(h.a.mark((function n(s,r){var a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,x.a.post("https://juncos-mytinerary.herokuapp.com/api/dislike",{token:e,itinerayId:t},{headers:{Authorization:"Bearer "+e}});case 3:a=n.sent,s({type:"LIKES",payload:a.data}),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),f.b.error("Oops! Something went wrong");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}()}},X=n(29),Z=n(61),q={deleteComment:K.deleteComment,updateComment:K.updateComment},_=Object(m.b)((function(e){return{loggedUser:e.userR.loggedUser}}),q)((function(e){var t=e.comment,n=Object(a.useState)(!1),s=Object(o.a)(n,2),c=s[0],i=s[1],l=Object(a.useState)(""),u=Object(o.a)(l,2),j=u[0],d=u[1],b=Object(a.useState)(""),m=Object(o.a)(b,2),p=m[0],g=m[1],x=function(){var t=Object(O.a)(h.a.mark((function t(n){var s,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.comment._id,r=e.IdItinerary,t.next=4,e.deleteComment(e.loggedUser.response.token,s,r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(t){var n=e.comment._id,s=e.IdItinerary;e.updateComment(e.loggedUser.response.token,j,n,s),i(!c)};return Object(a.useEffect)((function(){e.loggedUser&&g(e.loggedUser.response.email)}),[e.loggedUser]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"comment",children:c?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"inputDiv update",children:[Object(r.jsx)(Z.a,{className:"cancelBtn",onClick:function(){return i(!c)}}),Object(r.jsx)("input",{type:"text",name:"content",placeholder:"Write your comment here",className:"commentInput update",onKeyDown:function(e){"Enter"===e.key&&f()},onChange:function(e){d(e.target.value)},value:j,autoFocus:!0,autoComplete:"off"}),Object(r.jsx)(X.a,{className:"updateIcon",onClick:f,id:t._id})]})}):Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"insideComment",children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{className:"user",children:[t.userName,": "]}),Object(r.jsx)("p",{className:"content",children:t.content})]}),Object(r.jsx)("div",{className:"commentIcons",children:e.comment.email===p&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(J.a,{onClick:function(){i(!c),d(t.content)},className:"editComment"}),Object(r.jsx)(J.b,{onClick:x,className:"editComment trash",id:t._id})]})})]})})})})})),$=n(31),ee=function(e){var t=e.activity;return Object(r.jsx)("div",{className:"activityImg",style:{backgroundImage:"url(".concat(t.actImg,")"),backgroundSize:"cover"},children:Object(r.jsx)("p",{children:t.actName})})},te=n(62),ne={sendComment:K.sendComment,like:K.like,dislike:K.dislike},se=Object(m.b)((function(e){return{loggedUser:e.userR.loggedUser,itineraries:e.itinerariesR.itineraries}}),ne)((function(e){var t=e.itinerary,n=t.userName,s=t.duration,c=t.userPic,i=t.itineraryTitle,l=t.likes,u=t.hastags,j=t.comments,b=t.price,m=t.activities,p=t._id,g=Object(a.useState)(!1),x=Object(o.a)(g,2),v=x[0],y=x[1],k=Object(a.useState)(""),N=Object(o.a)(k,2),w=N[0],C=N[1],I=Object(a.useState)({}),S=Object(o.a)(I,2),A=S[0],U=S[1],E=Object(a.useState)(""),P=Object(o.a)(E,2),L=P[0],T=P[1];Object(a.useEffect)((function(){e.loggedUser&&T(e.loggedUser.response.id)}),[e.loggedUser]);var R=function(){0!==w.length&&e.loggedUser?(j.push(w),e.sendComment(w,e.loggedUser.response.token,p,A),C("")):0===w.length&&e.loggedUser?f.b.error("You can't send empty comments"):f.b.error("You must be logged in to comment")},D=function(){var t=Object(O.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loggedUser?e.like(e.loggedUser.response.token,p):f.b.error("You must be logged in to like an itinerary");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=Object(O.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.dislike(e.loggedUser.response.token,p);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"itinerary",children:[Object(r.jsxs)("h2",{children:[i,"!"]}),Object(r.jsx)("div",{className:"userPic",style:{backgroundImage:"url(".concat(c,")")}}),Object(r.jsx)("p",{className:"userName",children:n}),Object(r.jsxs)("div",{className:"itInfo",children:[Object(r.jsxs)("p",{className:"price",children:[Object(r.jsx)("span",{className:"bold",children:"Price:"}),Object(Q.a)(Array(b)).map((function(e,t){return Object(r.jsx)(d.d,{className:"cash"},t)}))]}),Object(r.jsxs)("p",{className:"hours",children:[Object(r.jsx)("span",{className:"bold",children:"Duration:"})," ",Object(Q.a)(Array(s)).map((function(e){return Object(r.jsx)(te.a,{className:"clock"},Object(B.a)())}))," "]}),Object(r.jsxs)("p",{className:"likes",children:[l.includes(L)?Object(r.jsx)($.a,{className:"heart",onClick:e.loggedUser&&M}):Object(r.jsx)($.b,{className:"heart",onClick:D}),Object(r.jsx)("span",{className:"likesSpan",children:l.length})]})]}),Object(r.jsx)("div",{className:"hashtags",children:u.map((function(e){return Object(r.jsxs)("p",{className:"hashtag",children:["#",e]},e)}))}),v&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"activitiesContainer",children:[Object(r.jsx)("h3",{children:"Activities"}),Object(r.jsx)("div",{className:"activities",children:m.map((function(e){return Object(r.jsx)(ee,{activity:e},e._id)}))})]}),Object(r.jsxs)("div",{className:"commentContainer",children:[Object(r.jsx)("h3",{children:"Comments"}),Object(r.jsx)("div",{className:"comments",children:j.map((function(t){return Object(r.jsx)(_,{comment:t,IdItinerary:p,id:e.id},t._id)}))}),Object(r.jsxs)("div",{className:"inputDiv",children:[Object(r.jsx)("input",{type:"text",name:"content",onKeyDown:function(e){"Enter"===e.key&&R()},placeholder:e.loggedUser?"Leave your comment here!":"You must be logged in to comment",className:"commentInput",onChange:function(t){C(t.target.value),U({userName:e.loggedUser.response.firstName+" "+e.loggedUser.response.lastName,content:t.target.value,_id:p,email:e.loggedUser.response.email})},value:w,disabled:!e.loggedUser&&!0,autoComplete:"off"}),Object(r.jsx)(X.a,{className:"commentIcon",onClick:R,id:p})]})]})]}),Object(r.jsx)("button",{onClick:function(){y(!v)},className:"viewMoreBtn",children:v?"View Less":"View More"})]})})})),re={getItineraries:K.getItineraries},ae=Object(m.b)((function(e){return{cities:e.citiesR.cities,itineraries:e.itinerariesR.itineraries}}),re)((function(e){var t=e.cities,n=e.itineraries,s=e.getItineraries,c=Object(a.useState)({}),i=Object(o.a)(c,2),l=i[0],j=i[1],b=e.match.params.id;return Object(a.useEffect)((function(){var n=t.filter((function(e){return e._id===b}));j(n[0]),s(b),window.scrollTo(0,0),0===n.length&&e.history.push("/cities")}),[t,b,s,e.history]),0===n.length?Object(r.jsx)(Y,{city:l}):Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"centrar",children:[Object(r.jsx)("div",{className:"itineraryBanner",style:{backgroundImage:"url(".concat(l.cityPicture,")")},children:Object(r.jsxs)("div",{className:"bannerText",children:[Object(r.jsxs)("h2",{children:["Welcome to ",l.cityName,"!"]}),Object(r.jsx)("p",{children:"Feel free to check our itineraries and activities!"})]})}),Object(r.jsx)("div",{className:"insideEachCitie",children:n.map((function(e){return Object(r.jsx)(se,{itinerary:e,id:b},e._id)}))}),Object(r.jsxs)("div",{className:"buttons",children:[Object(r.jsx)(u.b,{to:"/cities",className:"linksBtn",children:Object(r.jsxs)("button",{className:"backBtn",children:["Go Back to cities!",Object(r.jsx)(d.c,{className:"btnIcons"})," "]})}),Object(r.jsx)(u.b,{to:"/",className:"linksBtn",children:Object(r.jsxs)("button",{className:"backBtn",children:["Go Back Home!",Object(r.jsx)(d.b,{className:"btnIcons"})]})})]})]})})})),ce=n(26),ie=n(32),oe={signIn:v.signIn},le=Object(m.b)((function(e){return{loggedUser:e.userR.loggedUser}}),oe)((function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(o.a)(t,2),c=n[0],i=n[1],l=Object(a.useState)(""),j=Object(o.a)(l,2),b=j[0],m=j[1],p=Object(a.useState)(!0),g=Object(o.a)(p,2),x=g[0],v=g[1],y=function(e){var t=e.target.value,n=e.target.name;i(Object(s.a)(Object(s.a)({},c),{},Object(ce.a)({},n,t)))},k=function(){var t=Object(O.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m(""),""!==c.email&&""!==c.password){t.next=4;break}return m("No fields should be empty"),t.abrupt("return",!1);case 4:return t.next=6,e.signIn(c);case 6:(n=t.sent)&&!n.success?m(n.data.response):e.history.push("/");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=function(){var t=Object(O.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(n),!n.error){t.next=5;break}f.b.error("Try Again, please"),t.next=9;break;case 5:return t.next=7,e.signIn({email:n.profileObj.email,password:"a".concat(n.profileObj.googleId)});case 7:t.sent&&m("You need to sign up first!");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"centrar forms",children:Object(r.jsxs)("div",{className:"form",children:[Object(r.jsx)("img",{src:C,alt:""}),Object(r.jsx)("h2",{children:"Sign in!"}),Object(r.jsx)("p",{className:"error",children:b}),Object(r.jsx)("input",{type:"email",name:"email",placeholder:"Please, enter your email adress",onChange:y}),Object(r.jsxs)("div",{className:"passWordDiv",children:[Object(r.jsx)(d.a,{className:"eye",onClick:function(){return v(!x)}}),Object(r.jsx)("input",{type:x?"password":"text",name:"password",placeholder:"Please, enter your password",onChange:y,onKeyDown:function(e){"Enter"===e.key&&k()}})]}),Object(r.jsx)("button",{className:"logUserBtn",onClick:k,children:"Sign in!"}),Object(r.jsx)("p",{children:" Or you can sign in with your Google account"}),Object(r.jsx)("div",{className:"googleBtn",children:Object(r.jsx)(ie.GoogleLogin,{clientId:"64572824100-laueolo93op2un8m3ajq5g9t8dkriduv.apps.googleusercontent.com",buttonText:"Sign in with Google",onSuccess:N,onFailure:N,cookiePolicy:"single_host_origin"})}),Object(r.jsxs)("p",{children:["Don't have an account?  ",Object(r.jsx)(u.b,{to:"/signup",className:"logLink",children:"Sign up here!"})]})]})})})),ue={signUp:v.signUp},je=Object(m.b)((function(e){return{loggedUser:e.userR.loggedUser}}),ue)((function(e){var t=e.signUp,n=Object(a.useState)(!0),c=Object(o.a)(n,2),i=c[0],l=c[1],j=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",userPicture:"",country:""}),b=Object(o.a)(j,2),m=b[0],p=b[1],g=Object(a.useState)([]),v=Object(o.a)(g,2),y=v[0],k=v[1],N=Object(a.useState)({}),w=Object(o.a)(N,2),I=w[0],S=w[1],A={firstName:null,lastName:null,email:null,password:null,userPicture:null,country:null};Object(a.useEffect)((function(){x.a.get("https://restcountries.eu/rest/v2/all").then((function(e){return k(e.data)}))}),[]);var U=function(e){var t=e.target.name,n=e.target.value;p(Object(s.a)(Object(s.a)({},m),{},Object(ce.a)({},t,n)))},E=function(){var e=Object(O.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(m);case 2:(n=e.sent)&&!n.success&&(console.log(n),S(A));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(O.a)(h.a.mark((function e(n){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.error){e.next=4;break}f.b.error("Try Again, please"),e.next=10;break;case 4:return e.next=6,t({firstName:n.profileObj.givenName,lastName:n.profileObj.familyName,email:n.profileObj.email,password:"a".concat(n.profileObj.googleId),userPicture:n.profileObj.imageUrl,country:"Argentina"});case 6:if(!(s=e.sent)||s.success){e.next=10;break}return f.b.error("There's already an account with that mail :)"),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"centrar forms",children:Object(r.jsxs)("div",{className:"form",children:[Object(r.jsx)("img",{src:C,alt:""}),"        ",Object(r.jsx)("h2",{children:"Sign up!"}),Object(r.jsxs)("div",{className:"signupInput",children:[Object(r.jsx)("small",{className:"small",children:I.firstName&&I.firstName}),Object(r.jsx)("input",{type:"text",name:"firstName",placeholder:"Please, enter your first name",onChange:U,autoComplete:"off"})]}),Object(r.jsxs)("div",{className:"signupInput",children:[Object(r.jsx)("small",{className:"small",children:I.lastName&&I.lastName}),Object(r.jsx)("input",{type:"text",name:"lastName",placeholder:"Please, enter your last name",onChange:U,autoComplete:"off"})]}),Object(r.jsxs)("div",{className:"signupInput",children:[Object(r.jsx)("small",{className:"small",children:I.email&&I.email}),Object(r.jsx)("input",{type:"email",name:"email",placeholder:"Please, enter your email adress",onChange:U,autoComplete:"off"})]}),Object(r.jsxs)("div",{className:"signupInput",children:[Object(r.jsx)("small",{className:"small",children:I.password&&I.password}),Object(r.jsx)(d.a,{className:"eye",onClick:function(){return l(!i)}}),Object(r.jsx)("input",{type:i?"password":"text",name:"password",placeholder:"Please, enter your password",onChange:U,autoComplete:"off"})]}),Object(r.jsxs)("div",{className:"signupInput",children:[Object(r.jsx)("small",{className:"small",children:I.userPicture&&I.userPicture}),Object(r.jsx)("input",{type:"text",name:"userPicture",placeholder:"Please, enter the URL of your picture",onChange:U,autoComplete:"off"})]}),Object(r.jsxs)("div",{className:"signupInput",children:[Object(r.jsx)("small",{className:"small",children:I.country&&I.country}),Object(r.jsxs)("select",{name:"country",id:"",onChange:U,children:[Object(r.jsx)("option",{children:"Choose your country"}),y.map((function(e){return Object(r.jsx)("option",{value:e.name,children:e.name},e.name)}))]})]}),Object(r.jsx)("button",{className:"logUserBtn",onClick:E,children:"Sign up!"}),Object(r.jsxs)("p",{children:["Already have an account?  ",Object(r.jsx)(u.b,{to:"/signin",className:"logLink",children:"Sign in here!"})]}),Object(r.jsx)("p",{children:"Or you can sign up with Google"}),Object(r.jsx)("div",{className:"googleBtn",children:Object(r.jsx)(ie.GoogleLogin,{clientId:"64572824100-laueolo93op2un8m3ajq5g9t8dkriduv.apps.googleusercontent.com",buttonText:"Create an account with Google",onSuccess:P,onFailure:P,cookiePolicy:"single_host_origin"})})]})})}));var de={preserveLog:v.preserveLog},be=Object(m.b)((function(e){return{loggedUser:e.userR.loggedUser}}),de)((function(e){var t=Object(a.useState)(!0),n=Object(o.a)(t,2),s=n[0],c=n[1];if(e.loggedUser)var i=Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(W.d,{children:[Object(r.jsx)(W.b,{exact:!0,path:"/",component:D}),Object(r.jsx)(W.b,{path:"/cities",component:z}),Object(r.jsx)(W.b,{path:"/itineraries/:id",component:ae}),Object(r.jsx)(W.a,{to:"/"})]})});else localStorage.getItem("token")?e.preserveLog(localStorage.getItem("token")).then((function(e){e||c(!s)})):i=Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(W.d,{children:[Object(r.jsx)(W.b,{exact:!0,path:"/",component:D}),Object(r.jsx)(W.b,{path:"/signin",component:le}),Object(r.jsx)(W.b,{path:"/signup",component:je}),Object(r.jsx)(W.b,{path:"/cities",component:z}),Object(r.jsx)(W.b,{path:"/itineraries/:id",component:ae}),Object(r.jsx)(W.a,{to:"/"})]})});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(f.a,{}),Object(r.jsxs)(u.a,{children:[Object(r.jsx)(k,{}),i]}),Object(r.jsx)(V,{})]})})),me=n(25),pe={cities:[],filteredCities:[],allItineraries:[]},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CITIES":return Object(s.a)(Object(s.a)({},e),{},{cities:t.payload,filteredCities:t.payload});case"GET_INPUT_VALUE":return Object(s.a)(Object(s.a)({},e),{},{inputValue:t.payload,filteredCities:e.cities.filter((function(e){return 0===e.cityName.toLowerCase().indexOf(t.payload.toLowerCase().trim())}))});default:return e}},Oe={itineraries:[]},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITINERARIES":return Object(s.a)(Object(s.a)({},e),{},{itineraries:t.payload});case"COMMENTS":case"LIKES":return Object(s.a)(Object(s.a)({},e),{},{itineraries:e.itineraries.map((function(e){return e._id===t.payload.response._id?t.payload.response:e}))});default:return e}},xe={loggedUser:null},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOG":return localStorage.setItem("firstName",t.payload.response.firstName),localStorage.setItem("userPicture",t.payload.response.userPicture),localStorage.setItem("token",t.payload.response.token),Object(s.a)(Object(s.a)({},e),{},{loggedUser:t.payload});case"SIGN_OUT":return Object(s.a)(Object(s.a)({},e),{},{loggedUser:null});default:return e}},ve=Object(me.c)({citiesR:he,itinerariesR:ge,userR:fe}),ye=n(63),ke=n(33),Ne=n(64),we=Object(me.d)(ve,Object(me.a)(ye.a)),Ce={timeout:3500,position:ke.b.TOP_RIGHT,offset:"80px",transition:ke.c.SCALE};i.a.render(Object(r.jsx)(m.a,{store:we,children:Object(r.jsx)(ke.a,Object(s.a)(Object(s.a)({template:Ne.a},Ce),{},{children:Object(r.jsx)(be,{})}))}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.527dfb73.chunk.js.map